

7. I suggest you use tools like "perltidy" for code formatting (it's on cpan). my .perltidyrc looks like:
--backup-and-modify-in-place
--backup-file-extension=beforeTidy
--block-brace-tightness=0
--brace-tightness=0
--closing-token-indentation=1
--continuation-indentation=4
--indent-columns=4
--maximum-line-length=195
--nocuddled-else
--noopening-brace-on-new-line
--nooutdent-labels
--paren-tightness=0
--square-bracket-tightness=0
--vertical-tightness=0
--vertical-tightness-closing=0
--break-at-old-comma-breakpoints

11. When providing options that are basically the same as in
pg_dump/psql - please make it possible to use also shortcuts, and make
the options the same as in psql/pg_dump.
I.e. when I use:
psql -U ... -d ... -h ... -p ...
please make sure that your tool will also understand the same options

13. This is the biggest gripe so far - you defined *A LOT* of global
variables.
Global variables are bad. Lots of global variables is even worse.
Consider using single global variable - hash - for config, and using it
to set values. This works like this:

our %cfg;
die ".." unless GetOptions(
   \%cfg,
   qw(
       host|h=s
       port|p=i
       ...
   )
);

This is of course only example look.
Another approach (one that I like much better) is to use OO perl, and
use $self (object itself) as %cfg.

17. I think that if you are providing default/hardcoded "paths" to
programs, they should be like "$svn = 'svn'" - i.e. without path, so
that environment's PATH will be used.

22. in build_object_lists() you're parsing output of pg_restore -l.
   in the parse code, you assume that object type is always /\S+/,
   which is not true - for example: FK CONSTRAINT
   #NOTE: Search for any combination of capital letters and spaces? 
   # Make list of known types and match on them?

24. =$ perl ../getddl.pl --dbname depesz --getall
Creating temp dump...
pg_dump  -s -Fc -U postgres -p 5920  depesz > /tmp/pgdump1318008579.30788
Building object lists...
Use of uninitialized value $objtype in string eq at ../getddl.pl line 416.
Use of uninitialized value $objtype in string eq at ../getddl.pl line 427.
Use of uninitialized value $objtype in string eq at ../getddl.pl line 438.
Use of uninitialized value $objtype in string eq at ../getddl.pl line 449.
# NOTE: Ask depesz to do this one again. Not sure if previous port issue or something else
